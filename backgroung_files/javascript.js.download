window.theme=window.theme||{},theme.debounce=function(e,t=300){let o;return(...s)=>{clearTimeout(o),o=setTimeout(()=>{e.apply(this,s)},t)}},theme.search=function(){const e=document.querySelector(".sb__open"),t=document.querySelector(".sb__close"),o=document.querySelector(".header"),s=document.querySelector(".sf__input"),a=document.querySelector(".sf__placeholder"),c=document.querySelector(".sf__result"),i=new XMLHttpRequest,l="https://pagefly.io/search?type=page,article";e?.addEventListener("click",u=>{u.preventDefault(),o.classList.add("is-search-show"),o.classList.remove("is-search-hide");var n=document.createElement("DIV");n.classList.add("mask"),document.body.appendChild(n),setTimeout(function(){s.focus(),s.value="",n.classList.add("mask--opened")},300)}),t?.addEventListener("click",u=>{u.preventDefault(),o.classList.remove("is-search-show"),o.classList.add("is-search-hide"),document.querySelector(".mask").classList.remove("mask--opened"),c.innerHTML="",setTimeout(function(){document.querySelector(".mask").remove()},300)});const r=function(u){i.onreadystatechange=function(){let n="";this.readyState==4&&this.status==200&&(data=JSON.parse(i.responseText),data.results_total>0?(data.results.forEach(function(d,h){n+='<div class="sf__item pr">',n+='<a class="pa wf hf sf__link" href="'+d.url+'"></a>',n+='<h3 class="sf__title text-x6">'+d.title+"</h3>",n+='<div class="sf__meta">',d.type=="page"?n+="<span>Page</span>":(n+='<span class="sf__author">Posted by '+d.author+"</span>",n+='<span class="sf__time pr">'+d.time+"</span>"),n+="</div>",n+="</div>"}),data.results_total>4&&(n+='<a class="sf__all db center color-primary" href="'+l+"&q="+u+'">See all result</a>'),setTimeout(function(){c.classList.add("sf__result--loaded")},50),c.innerHTML=n):c.innerHTML='<h3 class="sf__empty text-x6 center">Sorry we did not find any matching results</h3>')},c.classList.remove("sf__result--loaded"),i.open("GET",l+"&view=json&q="+u,!0),i.send()},f=theme.debounce(r,500);s?.addEventListener("input",u=>{const n=u.target.value;if(n.length>0){a.style.opacity=0;let d="";d='<div class="sf__loading center df"><div class="spin"><i></i><i></i><i></i><i></i></div></div>',c.innerHTML=d}else a.removeAttribute("style");n.length>3&&f(n)})},theme.sticky=function(){let e=null;const o=document.querySelector(".header").offsetHeight,s=document.body;let a=window.pageYOffset;const c="data-toc-trigger",i="data-toc-section",l=document.querySelectorAll(`[${i}]`),r=document.querySelectorAll(`[${c}]`),f=document.querySelector(".filter"),u=document.querySelector(".template__body");function n(m){const p=m.getBoundingClientRect(),v=s.classList.contains("is-header-sticky")?o:0;return p.y<=v&&p.y+p.height>0}const d=theme.debounce(function(p){p.classList.add("toc--active")},50);function h(m){m.classList.remove("toc--active")}window.onscroll=function(m){window.pageYOffset>0?s.classList.add("is-header-sticky"):s.classList.remove("is-header-sticky"),u!==null&&(n(u)?(f.classList.add("sticky"),s.classList.add("is-double-sticky")):(f.classList.remove("sticky"),s.classList.remove("is-double-sticky"))),l.forEach(p=>{const v=p.getAttribute(i),y=v&&document.querySelector(`[${c}='${v}']`);y&&n(p)&&(e&&!e.isSameNode(y)&&(h(e),e=null),(!e||e&&e.isSameNode(y))&&(e=y,d(e)))}),a=window.pageYOffset},r.forEach(m=>{m.addEventListener("click",p=>{p.preventDefault();const v=m.getAttribute(c),y=v&&document.querySelector(`[${i}='${v}']`),g=window.pageYOffset>y.offsetTop?74:0;window.scroll({top:y.getBoundingClientRect().top+window.scrollY,behavior:"smooth"})})})},theme.mobileMenu=function(){const e=document.querySelector(".header"),t=document.querySelector(".mm__open"),o=document.querySelector(".mm__close");t?.addEventListener("click",s=>{s.preventDefault(),e.classList.add("is-menu-show")}),o?.addEventListener("click",s=>{s.preventDefault(),e.classList.remove("is-menu-show")});for(const s of document.querySelectorAll("[data-sub-menu]"))s?.addEventListener("click",function(a){a.preventDefault(),this.parentElement.querySelector(".menu__child").classList.toggle("activated")})},theme.modal=function(){const e=document.querySelector(".button--install"),t=document.querySelector(".modal__close"),o=document.body;for(const s of document.querySelectorAll(".button--install"))s.addEventListener("click",function(a){a.preventDefault(),o.classList.add("is-modal-show")});t?.addEventListener("click",s=>{s.preventDefault(),o.classList.remove("is-modal-show")})},theme.chatbox=function(){const e=document.querySelector("[data-chatbox]");e&&e.addEventListener("click",t=>{t.preventDefault(),$crisp.push(["do","chat:open"])})},theme.cookie=function(){const e={getItem:c=>document.cookie.split(";").map(l=>l.split("=")).reduce((l,[r,f])=>({...l,[r.trim()]:f}),{})[c],setItem:(c,i)=>{document.cookie=`${c}=${i};`}},t=e,o="__pf_consent",s=()=>!t.getItem(o),a=()=>t.setItem(o,!0);window.onload=()=>{const c=h=>{a(t),i.classList.add("dn"),h.preventDefault()},i=document.querySelector(".cookie"),l=document.querySelector(".cookie-manager"),r=document.querySelector("[data-cookie-accept]"),f=document.querySelector("[data-cookie-decline]"),u=document.querySelectorAll('[href="#cookie-manager"]'),n=document.querySelector("[data-cookie-save]");r?.addEventListener("click",c);const d=document.getElementById("analytics-n-customization");d?.addEventListener("click",function(){this.checked?e.setItem(o,!0):e.setItem(o,!1)}),t.getItem("__pf_consent")==="true"?d.checked=!0:d.checked=!1,s(t)&&setTimeout(()=>{i.classList.remove("dn")},2e3);for(const h of u)h?.addEventListener("click",function(m){m.preventDefault(),l.classList.remove("dn"),i.classList.add("dn"),document.body.classList.add("is-cm-show")});n?.addEventListener("click",function(h){h.preventDefault(),l.classList.add("dn"),document.body.classList.remove("is-cm-show"),d.checked?e.setItem(o,!0):e.setItem(o,!1)})}},theme.stickyBar=function(){const e=document.querySelector("[data-bar-close]"),t=document.querySelector(".bar");sessionStorage.getItem("__pf_popup")||!document.querySelector(".bar")?document.body.classList.remove("is-bar-show"):setTimeout(()=>{t&&t.classList.remove("dn"),document.body.classList.add("is-bar-show")},1e3),e&&e.addEventListener("click",function(s){s.preventDefault(),sessionStorage.setItem("__pf_popup",!1),t.classList.add("dn"),document.body.classList.remove("is-bar-show")})},theme.languageSwitcher=function(){const e=document.querySelector(".language-switcher");e&&e.addEventListener("click",function(t){this.classList.toggle("menu-show")})},theme.countdownTimer=function(){var e,t,o,s,a=document.getElementById("countdown");if(a!==null){var c=a.getAttribute("data-time"),i=new Date(c).getTime();setInterval(function(){var l=new Date().getTime(),r=(i-l)/1e3;e=parseInt(r/86400),r=r%86400,t=parseInt(r/3600),r=r%3600,o=parseInt(r/60),s=parseInt(r%60),a.innerHTML="<div><span>"+e+"</span><span>days</span></div><div><span>"+t+"</span><span>hours</span></div><div><span>"+o+"</span><span>minutes</span></div><div><span>"+s+"</span><span>seconds</span></div>"},1e3)}},theme.popup=function(){const e=document.querySelector("[data-popup-close]"),t=document.body,o=localStorage.getItem("__pf_popup_")||!document.querySelector(".popup"),s=document.querySelector(".popup")?.getAttribute("data-popup-delay")||1e3;o?t.classList.remove("is-popup-show"):setTimeout(()=>{t.classList.add("is-popup-show")},s),e&&e.addEventListener("click",function(a){a.preventDefault(),localStorage.setItem("__pf_popup_",!1),t.classList.remove("is-popup-show")})},theme.popupOverlay=function(){const e=document.querySelector("[data-popup-overlay-close]"),t=document.querySelector(".popup-n-overlay");sessionStorage.getItem("__pf_popup_overlay")||!t||setTimeout(()=>{t.classList.remove("dn"),t.classList.add("df")},1e4);function s(){sessionStorage.setItem("__pf_popup_overlay",!0),t.classList.add("dn"),t.classList.remove("df")}e&&e.addEventListener("click",function(a){a.preventDefault(),s()})},theme.marquee=function(){const e=document.querySelector(".marquee");if(e===null)return;let t=e.offsetWidth,o=e.parentElement.offsetWidth,s=0,a,c=!1;function i(){c=!0,a=setInterval(()=>{e.style.marginLeft=--s+"px",t==-s&&(s=o)},10)}i();var l=document.createElement("SPAN");l.classList.add("play"),e.appendChild(l);const r=document.querySelector(".play");r.addEventListener("click",f=>{r.classList.toggle("pause"),c?(clearInterval(a),c=!1):i()})},theme.init=function(){theme.search(),theme.mobileMenu(),theme.chatbox(),theme.cookie(),theme.stickyBar(),theme.languageSwitcher(),theme.countdownTimer(),theme.popup(),theme.popupOverlay(),theme.marquee(),window.addEventListener("load",function(){theme.sticky(),theme.modal()})},theme.init();
//# sourceMappingURL=/s/files/1/0090/9236/6436/t/7/assets/javascript.js.map?v=4060033963065494771
